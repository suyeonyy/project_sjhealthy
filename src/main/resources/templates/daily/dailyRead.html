<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>ì¼ì§€ ìƒì„¸ë‚´ì—­</title>
  <!-- í—¤ë” css -->
  <link rel="stylesheet" href="/css/header.css">
  <!-- í—¤ë”, ë©”ì¸, í‘¸í„° ìœ„ì¹˜ ê³ ì • -->
  <link rel="stylesheet" href="/css/style.css">

  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <script src="/js/jquery-3.6.0.min.js"></script>
  <script src="/js/bootstrap.min.js"></script>
  <style>
    .card-header {
        background-color: #f8f9fa;
        font-size: 1.25rem;
        font-weight: bold;
    }

    .card-body {
        font-size: 1.1rem;
    }

    .btn-custom {
        background-color: #007bff;
        color: white;
    }

    .btn-custom:hover {
        background-color: #0056b3;
        color: white;
    }
  </style>
</head>
<body>
<div th:replace="~{fragment/header :: main-head}"></div>
<main>
  <span style="background: #F9F7F6; border-left: 0.5em solid rgb(30,136,255); padding: 0.5em; font-weight: 600; font-size:15px;">ì¼ì§€ ìƒì„¸ë‚´ì—­</span>

  <div class="container mt-5">

  <div class="card shadow-lg">
    <div class="card-header">
      <span>ì¼ì§€ ìƒì„¸ë‚´ì—­</span>
    </div>
    <div class="card-body">
      <div class="row mb-3">
        <div class="col-md-3">
          <strong>ì œëª©</strong>
        </div>
        <div class="col-md-9">
          <span th:text="${dailyDTO.dailyTitle}"></span>
        </div>
      </div>
      <hr>

      <div class="row mb-3">
        <div class="col-md-3">
          <strong>ì‘ì„±ì¼</strong>
        </div>
        <div class="col-md-9">
          <span id="dailyDate" th:text="${dailyDTO.dailyDate}"></span>
        </div>
      </div>
      <hr>

      <div class="row mb-3">
        <div class="col-md-3">
          <strong>í˜„ì¬ì²´ì¤‘</strong>
        </div>
        <div class="col-md-9">
          <span th:text="${dailyDTO.dailyCurWt}"></span>
        </div>
      </div>
      <hr>

      <div class="row mb-3">
        <div class="col-md-3">
          <strong>ëª©í‘œì²´ì¤‘</strong>
        </div>
        <div class="col-md-9">
          <span th:text="${dailyDTO.dailyGoalWt}"></span>
        </div>
      </div>
      <hr>

      <div class="row mb-3">
        <div class="col-md-3">
          <strong>ëª©í‘œë§Œì¡±ë„</strong>
        </div>
        <div class="col-md-9">

          <!--
          <span th:text="${dailyDTO.dailyGoalSf}"></span>
          -->
          <span th:text="${dailyDTO.dailyGoalSf eq '10' ? 'ğŸ˜Š' : (dailyDTO.dailyGoalSf eq '20' ? 'ğŸ˜' : (dailyDTO.dailyGoalSf eq '30' ? 'ğŸ˜¢' : dailyDTO.dailyGoalSf))}"></span>
        </div>
      </div>
      <hr>

      <div class="row mb-3">
        <div class="col-md-3">
          <strong>ë©”ëª¨</strong>
        </div>
        <div class="col-md-9">
          <span th:text="${dailyDTO.dailyMemo}"></span>
        </div>
      </div>
      <hr>

      <div class="text-center mt-4">
        <a th:if="${dailyDTO.memberId == loginId}" style="text-decoration: none;"

           th:href="@{../daily/update?dailyId={id}(id=${dailyDTO.dailyId}, year=${#strings.substring(dailyDTO.dailyDate, 0, 4)}, month=${#strings.substring(dailyDTO.dailyDate, 4, 6)} )}">
          <button type="button" class="btn btn-custom">ìˆ˜ì •</button>
        </a>
        <!--
        <a id="list" href="../daily/dailyList" class="btn btn-secondary">ëª©ë¡</a>
        -->
        <a id="list" href="#" class="btn btn-secondary">ëª©ë¡</a>
      </div>
    </div>
  </div>

</div>
</main>
<div th:replace="~{fragment/footer :: main-foot}"></div>
<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script>

  var dailySaveDate;
  var list = document.getElementById("list");

  $(document).ready(function() {
    var dailyDate = document.getElementById('dailyDate').innerText;//ëª©ë¡ì—ì„œ í´ë¦­í•œ ë°ì´í„°ì˜ ë…„,ì›”ì´ ë‹´ê²¨ìˆìŒ
    // ë‚ ì§œ ë¬¸ìì—´ì„ `YYYYMMDD` í˜•íƒœì—ì„œ `YYYY/MM/DD`ë¡œ ë³€í™˜
    var formattedDate = dailyDate.slice(0, 4) + '/' + dailyDate.slice(4, 6) + '/' + dailyDate.slice(6, 8);
    //console.log(formattedDate);  // "2025/01/08"

    $("#dailyDate").text(formattedDate);


    dailySaveDate = dailyDate;


    // ëª©ë¡ ë²„íŠ¼ ëˆ„ë¥´ë©´ í˜ì´ì§€ ì €ì¥í•´ì„œ ê²½ë¡œ ì´ë™
    list.addEventListener("click", () => {
        event.preventDefault(); // ê¸°ë³¸ ë™ì‘ ë°©ì§€
        var year = dailySaveDate.slice(0, 4);
        var month = dailySaveDate.slice(4, 6);
        window.location.href = "/sjhealthy/daily/dailyList?year=" + year + "&month=" + month;
    });
  });
</script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>
</body>
</html>
